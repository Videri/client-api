<!DOCTYPE html>


















































<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="shortcut icon" type="image/x-icon" href="../../../favicon.ico" />
<title>

  ApiClient


| VistarMediaClientApi

</title>
<link href="../../../../assets/android-developer-docs.css" rel="stylesheet" type="text/css" />
<link href="../../../../assets/customizations.css" rel="stylesheet" type="text/css" />
<script src="../../../../assets/search_autocomplete.js" type="text/javascript"></script>
<script src="../../../../assets/jquery-resizable.min.js" type="text/javascript"></script>
<script src="../../../../assets/android-developer-docs.js" type="text/javascript"></script>
<script src="../../../../assets/prettify.js" type="text/javascript"></script>
<script type="text/javascript">
  setToRoot("../../../", "../../../../assets/");
</script>
<script src="../../../../assets/android-developer-reference.js" type="text/javascript"></script>
<script src="../../../../assets/navtree_data.js" type="text/javascript"></script>
<script src="../../../../assets/customizations.js" type="text/javascript"></script>
<noscript>
  <style type="text/css">
    html,body{overflow:auto;}
    #body-content{position:relative; top:0;}
    #doc-content{overflow:visible;border-left:3px solid #666;}
    #side-nav{padding:0;}
    #side-nav .toggle-list ul {display:block;}
    #resize-packages-nav{border-bottom:3px solid #666;}
  </style>
</noscript>
</head>

<body class="">

<div id="header">
    <div id="headerLeft">
    
      <span id="masthead-title">VistarMediaClientApi</span>
    
    </div>
    <div id="headerRight">
      
  <div id="search" >
      <div id="searchForm">
          <form accept-charset="utf-8" class="gsc-search-box" 
                onsubmit="return submit_search()">
            <table class="gsc-search-box" cellpadding="0" cellspacing="0"><tbody>
                <tr>
                  <td class="gsc-input">
                    <input id="search_autocomplete" class="gsc-input" type="text" size="33" autocomplete="off"
                      title="search developer docs" name="q"
                      value="search developer docs"
                      onFocus="search_focus_changed(this, true)"
                      onBlur="search_focus_changed(this, false)"
                      onkeydown="return search_changed(event, true, '../../../')"
                      onkeyup="return search_changed(event, false, '../../../')" />
                  <div id="search_filtered_div" class="no-display">
                      <table id="search_filtered" cellspacing=0>
                      </table>
                  </div>
                  </td>
                  <td class="gsc-search-button">
                    <input type="submit" value="Search" title="search" id="search-button" class="gsc-search-button" />
                  </td>
                  <td class="gsc-clear-button">
                    <div title="clear results" class="gsc-clear-button">&nbsp;</div>
                  </td>
                </tr></tbody>
              </table>
          </form>
      </div><!-- searchForm -->
  </div><!-- search -->
      
    </div>
</div><!-- header -->


  <div class="g-section g-tpl-240" id="body-content">
    <div class="g-unit g-first side-nav-resizable" id="side-nav">
      <div id="swapper">
        <div id="nav-panels">
          <div id="resize-packages-nav">
            <div id="packages-nav">
              <div id="index-links"><nobr>
                <a href="../../../packages.html"  >Package Index</a> | 
                <a href="../../../classes.html" >Class Index</a></nobr>
              </div>
              <ul>
                
    <li class="selected api apilevel-">
  <a href="../../../com/vistarmedia/api/package-summary.html">com.vistarmedia.api</a></li>
    <li class="api apilevel-">
  <a href="../../../com/vistarmedia/api/future/package-summary.html">com.vistarmedia.api.future</a></li>
    <li class="api apilevel-">
  <a href="../../../com/vistarmedia/api/message/package-summary.html">com.vistarmedia.api.message</a></li>
    <li class="api apilevel-">
  <a href="../../../com/vistarmedia/api/result/package-summary.html">com.vistarmedia.api.result</a></li>
    <li class="api apilevel-">
  <a href="../../../com/vistarmedia/api/transport/package-summary.html">com.vistarmedia.api.transport</a></li>
              </ul><br/>
            </div> <!-- end packages -->
          </div> <!-- end resize-packages -->
          <div id="classes-nav">
            <ul>
              
              
    <li><h2>Classes</h2>
      <ul>
          <li class="selected api apilevel-"><a href="../../../com/vistarmedia/api/ApiClient.html">ApiClient</a></li>
      </ul>
    </li>
              
              
              
    <li><h2>Exceptions</h2>
      <ul>
          <li class="api apilevel-"><a href="../../../com/vistarmedia/api/ApiRequestException.html">ApiRequestException</a></li>
      </ul>
    </li>
              
            </ul><br/>
          </div><!-- end classes -->
        </div><!-- end nav-panels -->
        <div id="nav-tree" style="display:none">
          <div id="index-links"><nobr>
            <a href="../../../packages.html"  >Package Index</a> | 
            <a href="../../../classes.html" >Class Index</a></nobr>
          </div>
        </div><!-- end nav-tree -->
      </div><!-- end swapper -->
    </div> <!-- end side-nav -->
    <script>
      if (!isMobile) {
        $("<a href='#' id='nav-swap' onclick='swapNav();return false;' style='font-size:10px;line-height:9px;margin-left:1em;text-decoration:none;'><span id='tree-link'>Use Tree Navigation</span><span id='panel-link' style='display:none'>Use Panel Navigation</span></a>").appendTo("#side-nav");
        chooseDefaultNav();
        if ($("#nav-tree").is(':visible')) {
          init_default_navtree("../../../");
        } else {
          addLoadEvent(function() {
            scrollIntoView("packages-nav");
            scrollIntoView("classes-nav");
          });
        }
        $("#swapper").css({borderBottom:"2px solid #aaa"});
      } else {
        swapNav(); // tree view should be used on mobile
      }
    </script>



<div class="g-unit" id="doc-content">

<div id="api-info-block">



  
   
  
  
  
  


<div class="sum-details-links">

Summary:









  <a href="#pubctors">Ctors</a>
  



  &#124; <a href="#pubmethods">Methods</a>
  



  &#124; <a href="#inhmethods">Inherited Methods</a>

&#124; <a href="#" onclick="return toggleAllClassInherited()" id="toggleAllClassInherited">[Expand All]</a>

</div><!-- end sum-details-links -->
<div class="api-level">
  


  
  

</div>
</div><!-- end api-info-block -->


<!-- ======== START OF CLASS DATA ======== -->

<div id="jd-header">
    public
     
     
    
    class
<h1>ApiClient</h1>



  
    extends <a href="http://download.oracle.com/javase/6/docs/api/index.html?java/lang/Object.html">Object</a><br/>
  
  
  

  
  
  


</div><!-- end header -->

<div id="naMessage"></div>

<div id="jd-content" class="api apilevel-">
<table class="jd-inheritance-table">


    <tr>
         	
        <td colspan="2" class="jd-inheritance-class-cell"><a href="http://download.oracle.com/javase/6/docs/api/index.html?java/lang/Object.html">java.lang.Object</a></td>
    </tr>
    

    <tr>
        
            <td class="jd-inheritance-space">&nbsp;&nbsp;&nbsp;&#x21b3;</td>
         	
        <td colspan="1" class="jd-inheritance-class-cell">com.vistarmedia.api.ApiClient</td>
    </tr>
    

</table>







<div class="jd-descr">


<h2>Class Overview</h2>
<p><p>
 Simple client for interacting with Vistar Media's API servers. This client,
 by default is asynchronous to help bulk loading speeds. However, depending on
 the implementing transport, the calls may appear to be asynchronous but will
 execute serially under the hood. It is recommended to use an
 <code>ApiClient</code> with an
 <code><a href="../../../com/vistarmedia/api/transport/AsyncHttpClientTransport.html">AsyncHttpClientTransport</a></code>.
 </p>
 
 <h4>Instantiating</h4>
 <p>
 Rather than creating an <code>ApiClient</code> by hand, it is often easier to ask
 one of the provided factories to make one for you. This will insure that
 <code><a href="../../../com/vistarmedia/api/transport/Transport.html">Transport</a></code> is initialized properly.
 </p>
 
 <pre class="pretty">
 ApiClient client = <code><a href="../../../com/vistarmedia/api/transport/AsyncHttpClientTransport.html">AsyncHttpClientTransport</a></code>.connect("dev.api.vistarmedia.com", 80);
 </pre>
 
 <p>
 The <code>ApiClient</code> instances are safe to share across threads.
 Instantiating multiple instances is safe to do, it will simply waste
 resources.
 </p>
 
 <h4>Sending Ad Requests</h4>
 <p>
 There are two ways to send com.vistarmedia.message.Api.AdRequests.
 The simpler of the two is synchronously. However, it is far more inefficient.
 Better throughput can be achieved by sending asynchronous requests to Vistar
 Media's API server, it may lead to more complex code however.
 </p>
 
 <p>
 Examples of the two styles are outlined below.
 </p>
 
 <h4>Synchronous Ad Requests</h4>
 <p>
 In the synchronous model, requests will be sent serially to Vistar Media's ad
 server. Exceptions will be thrown directly at request time. There is also a
 hard timeout of 10 seconds for any ad server communication. Requests
 exceeding this window will be aborted and an exception will be raised.
 </p>
 
 <pre style="prettyprint">
 import com.myco.AdRequestBuilder;
 
 import com.vistarmedia.api.ApiClient;
 import com.vistarmedia.api.ApiRequestException;
 import com.vistarmedia.api.message.Api.AdRequest;
 import com.vistarmedia.api.message.Api.Advertisement;
 import com.vistarmedia.api.message.Api.AdResponse;
 import com.vistarmedia.api.transport.AsyncHttpClientTransport;
 
 public class Main {
   private ApiClient client;
 
   public Main(String host, int port) {
     client = AsyncHttpClientTransport.connect(host, port);
   }
 
   public void run() throws ApiRequestException {
     for (int i = 0; i &lt; 10; i++) {
       AdRequest request = AdRequestBuidler.newRequest();
       AdResponse response = client.getAdResponse(request);
 
       for (Advertisement ad : response.getAdvertisementList) {
         System.out.println(&quot;Serving &quot; + ad);
       }
     }
   }
 
   public static void main(String[] args) {
     Main main = new Main(args[0], args[1]);
     try {
       main.run();
     } catch (ApiRequestException e) {
       System.err.println(&quot;Error talking to Vistar Media API&quot;);
       e.printStackTrace();
     }
   }
 }
 </pre>
 
 
 <h4>Asynchronous Ad Requests</h4>
 <p>
 You may use the asynchronous API for bulk operations or more precise timing
 control Below a sample asynchronous client will, as above, make ten requests
 print the resulting <code><a href="../../../com/vistarmedia/api/message/Api.Advertisement.html">Api.Advertisement</a></code>s.
 </p>
 
 <pre style="prettyprint">
 import java.util.List;
 import java.util.ArrayList;
 import java.util.concurrent.Future;
 import java.util.concurrent.TimeUnit;
 
 import com.myco.AdRequestBuilder;
 
 import com.vistarmedia.api.ApiClient;
 import com.vistarmedia.api.ApiRequestException;
 import com.vistarmedia.api.message.Api.AdRequest;
 import com.vistarmedia.api.message.Api.Advertisement;
 import com.vistarmedia.api.message.Api.AdResponse;
 import com.vistarmedia.api.transport.AsyncHttpClientTransport;
 
 public class Main {
   private ApiClient client;
 
   public Main(String host, int port) {
     client = AsyncHttpClientTransport.connect(host, port);
   }
 
   public void run() throws ApiRequestException {
     List&lt;Future&lt;AdResponseResult&gt;&gt; resultFutures = new ArrayList&lt;Future&lt;AdResponseResult&gt;&gt;();
     for (int i = 0; i &lt; 10; i++) {
       AdRequest request = AdRequestBuidler.newRequest();
       resultFutures.append(client.sendAdRequest(request));
     }
     
     for(Future&lt;AdResponseResult&gt; resultFuture : resultFutures) {
       AdResponseResult result = resultFuture.get(800, TimeUnit.MILLISECONDS);
       
       if(result.isSuccess()) {
         for (Advertisement ad : response.getAdvertisementList) {
           System.out.println(&quot;Serving &quot; + ad);
         }
       } else {
         ErrorResponse error = result.getError();
         System.err.println(&quot;Error talking to Vistar Media API&quot;)
         System.err.println(String.format(&quot;(%s): %s&quot;, error.getCode(), error.getMessage()); 
       }
     }
   }
 
   public static void main(String[] args) {
     Main main = new Main(args[0], args[1]);
     main.run();
   }
 }
 </pre>
 
 <h4>Common HTTP Error Codes</h4>
 
 <p>
 The API servers will use standard HTTP response codes when sending results
 back to the client. A few of the common ones are outlined below.
 </p>
 
 <table>
 <thead>
 <tr>
 <th>Code</th>
 <th>Description</th>
 </tr>
 </thead> <tbody>
 <tr>
 <td><code>200</code></td>
 <td><b>Response OK</b></td>
 </tr>
 <tr>
 <td><code>400</code></td>
 <td>
 <b>Invalid Request</b> Something was wrong with the data that was sent to the
 server. Ensure all required fields are present and check the attached message
 of the error.</td>
 </tr>
 <tr>
 <td><code>408</code></td>
 <td>
 <b>Request Timeout</b> The client may be having problems connecting to the
 internet, or Vistar's API servers may not be responding quickly enough. This
 request should be retried.</td>
 </tr>
 <tr>
 <td><code>500</code></td>
 <td>
 <b>Server Error</b> The Vistar Media API servers received the requested, but
 encountered an error while processing it. This request may be retried.</td>
 </tr>
 <tr>
 <td><code>503</code></td>
 <td>
 <b>Gateway Timeout</b> Vistar's load balancers will return 503's when talking
 to the development stack (<code>dev.api.vistarmedia.com</code>) if the cluster is
 in the middle of a roll. This request should be retried.</td>
 </tr>
 </tbody>
 </table>
 
</p>





</div><!-- jd-descr -->
















<div class="jd-descr">


<h2>Summary</h2>























<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<table id="pubctors" class="jd-sumtable"><tr><th colspan="12">Public Constructors</th></tr>



	 
    <tr class="alt-color api apilevel-" >
        <td class="jd-typecol"><nobr>
            
            
            
            
            
            </nobr>
        </td>
        <td class="jd-linkcol" width="100%"><nobr>
        <span class="sympad"><a href="../../../com/vistarmedia/api/ApiClient.html#ApiClient(java.lang.String, int, com.vistarmedia.api.transport.Transport)">ApiClient</a></span>(<a href="http://download.oracle.com/javase/6/docs/api/index.html?java/lang/String.html">String</a> host, int port, <a href="../../../com/vistarmedia/api/transport/Transport.html">Transport</a> transport)</nobr>
        
        <div class="jd-descrdiv"><p>
 Instantiate an ApiClient directly.</div>
  
  </td></tr>


	 
    <tr class=" api apilevel-" >
        <td class="jd-typecol"><nobr>
            
            
            
            
            
            </nobr>
        </td>
        <td class="jd-linkcol" width="100%"><nobr>
        <span class="sympad"><a href="../../../com/vistarmedia/api/ApiClient.html#ApiClient(java.lang.String, int, com.vistarmedia.api.transport.Transport, int)">ApiClient</a></span>(<a href="http://download.oracle.com/javase/6/docs/api/index.html?java/lang/String.html">String</a> host, int port, <a href="../../../com/vistarmedia/api/transport/Transport.html">Transport</a> transport, int syncTimeoutSeconds)</nobr>
        
  </td></tr>



</table>






<!-- ========== METHOD SUMMARY =========== -->
<table id="pubmethods" class="jd-sumtable"><tr><th colspan="12">Public Methods</th></tr>



	 
    <tr class="alt-color api apilevel-" >
        <td class="jd-typecol"><nobr>
            
            
            
            
            
            <a href="../../../com/vistarmedia/api/message/Api.AdResponse.html">Api.AdResponse</a></nobr>
        </td>
        <td class="jd-linkcol" width="100%"><nobr>
        <span class="sympad"><a href="../../../com/vistarmedia/api/ApiClient.html#getAdResponse(com.vistarmedia.api.message.Api.AdRequest)">getAdResponse</a></span>(<a href="../../../com/vistarmedia/api/message/Api.AdRequest.html">Api.AdRequest</a> request)</nobr>
        
        <div class="jd-descrdiv"><p>
 Synchronously get an <code>AdResponse</code>.</div>
  
  </td></tr>


	 
    <tr class=" api apilevel-" >
        <td class="jd-typecol"><nobr>
            
            
            
            
            
            <a href="../../../com/vistarmedia/api/message/Api.ProofOfPlay.html">Api.ProofOfPlay</a></nobr>
        </td>
        <td class="jd-linkcol" width="100%"><nobr>
        <span class="sympad"><a href="../../../com/vistarmedia/api/ApiClient.html#getProofOfPlay(com.vistarmedia.api.message.Api.ProofOfPlay)">getProofOfPlay</a></span>(<a href="../../../com/vistarmedia/api/message/Api.ProofOfPlay.html">Api.ProofOfPlay</a> request)</nobr>
        
        <div class="jd-descrdiv"><p>
 Synchronously sends a proof of play to Vistar Media's API servers.</div>
  
  </td></tr>


	 
    <tr class="alt-color api apilevel-" >
        <td class="jd-typecol"><nobr>
            
            
            
            
            
            <a href="http://download.oracle.com/javase/6/docs/api/index.html?java/util/concurrent/Future.html">Future</a>&lt;<a href="../../../com/vistarmedia/api/result/AdResponseResult.html">AdResponseResult</a>&gt;</nobr>
        </td>
        <td class="jd-linkcol" width="100%"><nobr>
        <span class="sympad"><a href="../../../com/vistarmedia/api/ApiClient.html#sendAdRequest(com.vistarmedia.api.message.Api.AdRequest)">sendAdRequest</a></span>(<a href="../../../com/vistarmedia/api/message/Api.AdRequest.html">Api.AdRequest</a> request)</nobr>
        
        <div class="jd-descrdiv">Asynchronously send an <code><a href="../../../com/vistarmedia/api/message/Api.AdRequest.html">Api.AdRequest</a></code>
 over the configured transport to the Vistar Media API server.</div>
  
  </td></tr>


	 
    <tr class=" api apilevel-" >
        <td class="jd-typecol"><nobr>
            
            
            
            
            
            <a href="http://download.oracle.com/javase/6/docs/api/index.html?java/util/concurrent/Future.html">Future</a>&lt;<a href="../../../com/vistarmedia/api/result/ProofOfPlayResult.html">ProofOfPlayResult</a>&gt;</nobr>
        </td>
        <td class="jd-linkcol" width="100%"><nobr>
        <span class="sympad"><a href="../../../com/vistarmedia/api/ApiClient.html#sendProofOfPlay(com.vistarmedia.api.message.Api.ProofOfPlay)">sendProofOfPlay</a></span>(<a href="../../../com/vistarmedia/api/message/Api.ProofOfPlay.html">Api.ProofOfPlay</a> request)</nobr>
        
        <div class="jd-descrdiv"><p>
 Asynchronously send an <code><a href="../../../com/vistarmedia/api/message/Api.ProofOfPlay.html">Api.ProofOfPlay</a></code>
 over the configured transport to the Vistar Media API server.</div>
  
  </td></tr>



</table>







<!-- ========== METHOD SUMMARY =========== -->
<table id="inhmethods" class="jd-sumtable"><tr><th>
  <a href="#" class="toggle-all" onclick="return toggleAllInherited(this, null)">[Expand]</a>
  <div style="clear:left;">Inherited Methods</div></th></tr>


<tr class="api apilevel-" >
<td colspan="12">
  <a href="#" onclick="return toggleInherited(this, null)" id="inherited-methods-java.lang.Object" class="jd-expando-trigger closed"
          ><img id="inherited-methods-java.lang.Object-trigger"
          src="../../../../assets/images/triangle-closed.png"
          class="jd-expando-trigger-img" /></a>
From class

  <a href="http://download.oracle.com/javase/6/docs/api/index.html?java/lang/Object.html">java.lang.Object</a>

<div id="inherited-methods-java.lang.Object">
  <div id="inherited-methods-java.lang.Object-list"
        class="jd-inheritedlinks">
  </div>
  <div id="inherited-methods-java.lang.Object-summary" style="display: none;">
    <table class="jd-sumtable-expando">
    


	 
    <tr class="alt-color api apilevel-" >
        <td class="jd-typecol"><nobr>
            
            
            
            
            
            <a href="http://download.oracle.com/javase/6/docs/api/index.html?java/lang/Object.html">Object</a></nobr>
        </td>
        <td class="jd-linkcol" width="100%"><nobr>
        <span class="sympad">clone</span>()</nobr>
        
  </td></tr>


	 
    <tr class=" api apilevel-" >
        <td class="jd-typecol"><nobr>
            
            
            
            
            
            boolean</nobr>
        </td>
        <td class="jd-linkcol" width="100%"><nobr>
        <span class="sympad">equals</span>(<a href="http://download.oracle.com/javase/6/docs/api/index.html?java/lang/Object.html">Object</a> arg0)</nobr>
        
  </td></tr>


	 
    <tr class="alt-color api apilevel-" >
        <td class="jd-typecol"><nobr>
            
            
            
            
            
            void</nobr>
        </td>
        <td class="jd-linkcol" width="100%"><nobr>
        <span class="sympad">finalize</span>()</nobr>
        
  </td></tr>


	 
    <tr class=" api apilevel-" >
        <td class="jd-typecol"><nobr>
            
            
            final
            
            
            <a href="http://download.oracle.com/javase/6/docs/api/index.html?java/lang/Class.html">Class</a>&lt;?&gt;</nobr>
        </td>
        <td class="jd-linkcol" width="100%"><nobr>
        <span class="sympad">getClass</span>()</nobr>
        
  </td></tr>


	 
    <tr class="alt-color api apilevel-" >
        <td class="jd-typecol"><nobr>
            
            
            
            
            
            int</nobr>
        </td>
        <td class="jd-linkcol" width="100%"><nobr>
        <span class="sympad">hashCode</span>()</nobr>
        
  </td></tr>


	 
    <tr class=" api apilevel-" >
        <td class="jd-typecol"><nobr>
            
            
            final
            
            
            void</nobr>
        </td>
        <td class="jd-linkcol" width="100%"><nobr>
        <span class="sympad">notify</span>()</nobr>
        
  </td></tr>


	 
    <tr class="alt-color api apilevel-" >
        <td class="jd-typecol"><nobr>
            
            
            final
            
            
            void</nobr>
        </td>
        <td class="jd-linkcol" width="100%"><nobr>
        <span class="sympad">notifyAll</span>()</nobr>
        
  </td></tr>


	 
    <tr class=" api apilevel-" >
        <td class="jd-typecol"><nobr>
            
            
            
            
            
            <a href="http://download.oracle.com/javase/6/docs/api/index.html?java/lang/String.html">String</a></nobr>
        </td>
        <td class="jd-linkcol" width="100%"><nobr>
        <span class="sympad">toString</span>()</nobr>
        
  </td></tr>


	 
    <tr class="alt-color api apilevel-" >
        <td class="jd-typecol"><nobr>
            
            
            final
            
            
            void</nobr>
        </td>
        <td class="jd-linkcol" width="100%"><nobr>
        <span class="sympad">wait</span>()</nobr>
        
  </td></tr>


	 
    <tr class=" api apilevel-" >
        <td class="jd-typecol"><nobr>
            
            
            final
            
            
            void</nobr>
        </td>
        <td class="jd-linkcol" width="100%"><nobr>
        <span class="sympad">wait</span>(long arg0)</nobr>
        
  </td></tr>


	 
    <tr class="alt-color api apilevel-" >
        <td class="jd-typecol"><nobr>
            
            
            final
            
            
            void</nobr>
        </td>
        <td class="jd-linkcol" width="100%"><nobr>
        <span class="sympad">wait</span>(long arg0, int arg1)</nobr>
        
  </td></tr>


</table>
  </div>
</div>
</td></tr>


</table>


</div><!-- jd-descr (summary) -->

<!-- Details -->








<!-- XML Attributes -->


<!-- Enum Values -->


<!-- Constants -->


<!-- Fields -->


<!-- Public ctors -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->
<h2>Public Constructors</h2>



<A NAME="ApiClient(java.lang.String, int, com.vistarmedia.api.transport.Transport)"></A>

<div class="jd-details api apilevel-"> 
    <h4 class="jd-details-title">
      <span class="normal">
        public 
         
         
         
         
        
      </span>
      <span class="sympad">ApiClient</span>
      <span class="normal">(<a href="http://download.oracle.com/javase/6/docs/api/index.html?java/lang/String.html">String</a> host, int port, <a href="../../../com/vistarmedia/api/transport/Transport.html">Transport</a> transport)</span>
    </h4>
      <div class="api-level">
        <div>

</div>
        
  

      </div>
    <div class="jd-details-descr">
      
  <div class="jd-tagdata jd-tagdescr"><p><p>
 Instantiate an ApiClient directly. A transport's factory method should
 instead be used, but this method of creation will work.
 </p>
 
 <p>
 This will configure the client to time out after 10 seconds for synchronous
 requests.
 </p></p></div>
  <div class="jd-tagdata">
      <h5 class="jd-tagtitle">Parameters</h5>
      <table class="jd-tagtable">
        <tr>
          <th>host</td>
          <td>Vistar Media API host name, ie: <code>dev.api.vistarmedia.com</code></td>
        </tr>
        <tr>
          <th>port</td>
          <td>Port to connect to the Vistar Media server, nearly always 80</td>
        </tr>
        <tr>
          <th>transport</td>
          <td>Transport implementation to send requests over.
</td>
        </tr>
      </table>
  </div>

    </div>
</div>


<A NAME="ApiClient(java.lang.String, int, com.vistarmedia.api.transport.Transport, int)"></A>

<div class="jd-details api apilevel-"> 
    <h4 class="jd-details-title">
      <span class="normal">
        public 
         
         
         
         
        
      </span>
      <span class="sympad">ApiClient</span>
      <span class="normal">(<a href="http://download.oracle.com/javase/6/docs/api/index.html?java/lang/String.html">String</a> host, int port, <a href="../../../com/vistarmedia/api/transport/Transport.html">Transport</a> transport, int syncTimeoutSeconds)</span>
    </h4>
      <div class="api-level">
        <div>

</div>
        
  

      </div>
    <div class="jd-details-descr">
      
  <div class="jd-tagdata jd-tagdescr"><p></p></div>

    </div>
</div>





<!-- ========= CONSTRUCTOR DETAIL ======== -->
<!-- Protected ctors -->



<!-- ========= METHOD DETAIL ======== -->
<!-- Public methdos -->

<h2>Public Methods</h2>



<A NAME="getAdResponse(com.vistarmedia.api.message.Api.AdRequest)"></A>

<div class="jd-details api apilevel-"> 
    <h4 class="jd-details-title">
      <span class="normal">
        public 
         
         
         
         
        <a href="../../../com/vistarmedia/api/message/Api.AdResponse.html">Api.AdResponse</a>
      </span>
      <span class="sympad">getAdResponse</span>
      <span class="normal">(<a href="../../../com/vistarmedia/api/message/Api.AdRequest.html">Api.AdRequest</a> request)</span>
    </h4>
      <div class="api-level">
        <div>

</div>
        
  

      </div>
    <div class="jd-details-descr">
      
  <div class="jd-tagdata jd-tagdescr"><p><p>
 Synchronously get an <code>AdResponse</code>. This will respond within the
 default timeout (10 seconds) or throw an exception. If there is any problem
 with the request, an <code><a href="../../../com/vistarmedia/api/ApiRequestException.html">ApiRequestException</a></code> will
 be thrown with the HTTP code and a string describing the problem.
 </p></p></div>
  <div class="jd-tagdata">
      <h5 class="jd-tagtitle">Returns</h5>
      <ul class="nolist"><li>A valid AdResponse from the Vistar Media API servers.</li></ul>
  </div>
  <div class="jd-tagdata">
      <h5 class="jd-tagtitle">Throws</h5>
      <table class="jd-tagtable">  
        <tr>
            <th><a href="../../../com/vistarmedia/api/ApiRequestException.html">ApiRequestException</a></td>
            <td>thrown when there was any problem with the request.
</td>
        </tr>
      </table>
  </div>

    </div>
</div>


<A NAME="getProofOfPlay(com.vistarmedia.api.message.Api.ProofOfPlay)"></A>

<div class="jd-details api apilevel-"> 
    <h4 class="jd-details-title">
      <span class="normal">
        public 
         
         
         
         
        <a href="../../../com/vistarmedia/api/message/Api.ProofOfPlay.html">Api.ProofOfPlay</a>
      </span>
      <span class="sympad">getProofOfPlay</span>
      <span class="normal">(<a href="../../../com/vistarmedia/api/message/Api.ProofOfPlay.html">Api.ProofOfPlay</a> request)</span>
    </h4>
      <div class="api-level">
        <div>

</div>
        
  

      </div>
    <div class="jd-details-descr">
      
  <div class="jd-tagdata jd-tagdescr"><p><p>
 Synchronously sends a proof of play to Vistar Media's API servers. Idential
 to <code>#getAdResponse(AdRequest)</code>, this will raise an
 <code>ApiRequestException</code> after a specified timeout.
 <code>ApiRequestException</code>s will also be raised for any response errors.
 See the table at the top for more information about the different response
 codes.
 </p></p></div>
  <div class="jd-tagdata">
      <h5 class="jd-tagtitle">Parameters</h5>
      <table class="jd-tagtable">
        <tr>
          <th>request</td>
          <td>Proof of play to register</td>
        </tr>
      </table>
  </div>
  <div class="jd-tagdata">
      <h5 class="jd-tagtitle">Returns</h5>
      <ul class="nolist"><li>The same Proof of play echoed back from Vistar's servers</li></ul>
  </div>
  <div class="jd-tagdata">
      <h5 class="jd-tagtitle">Throws</h5>
      <table class="jd-tagtable">  
        <tr>
            <th><a href="../../../com/vistarmedia/api/ApiRequestException.html">ApiRequestException</a></td>
            <td>thrown whenever this is either a timeout or some manner of
           invalid request/response.
</td>
        </tr>
      </table>
  </div>

    </div>
</div>


<A NAME="sendAdRequest(com.vistarmedia.api.message.Api.AdRequest)"></A>

<div class="jd-details api apilevel-"> 
    <h4 class="jd-details-title">
      <span class="normal">
        public 
         
         
         
         
        <a href="http://download.oracle.com/javase/6/docs/api/index.html?java/util/concurrent/Future.html">Future</a>&lt;<a href="../../../com/vistarmedia/api/result/AdResponseResult.html">AdResponseResult</a>&gt;
      </span>
      <span class="sympad">sendAdRequest</span>
      <span class="normal">(<a href="../../../com/vistarmedia/api/message/Api.AdRequest.html">Api.AdRequest</a> request)</span>
    </h4>
      <div class="api-level">
        <div>

</div>
        
  

      </div>
    <div class="jd-details-descr">
      
  <div class="jd-tagdata jd-tagdescr"><p>Asynchronously send an <code><a href="../../../com/vistarmedia/api/message/Api.AdRequest.html">Api.AdRequest</a></code>
 over the configured transport to the Vistar Media API server. This will
 return a result future which will be filled at some point in the
 background. The <code><a href="../../../com/vistarmedia/api/result/AdResponseResult.html">AdResponseResult</a></code> may
 contain either an <code><a href="../../../com/vistarmedia/api/message/Api.AdResponse.html">Api.AdResponse</a></code> or an
 <code><a href="../../../com/vistarmedia/api/result/ErrorResult.html">ErrorResult</a></code> describing what went wrong
 during the operation.</p></div>
  <div class="jd-tagdata">
      <h5 class="jd-tagtitle">Parameters</h5>
      <table class="jd-tagtable">
        <tr>
          <th>request</td>
          <td>Request that will be asynchronously sent to the Vistar Media API
          servers</td>
        </tr>
      </table>
  </div>
  <div class="jd-tagdata">
      <h5 class="jd-tagtitle">Returns</h5>
      <ul class="nolist"><li>A Future containing the eventual result of this operation, be it an
         error or success.
</li></ul>
  </div>

    </div>
</div>


<A NAME="sendProofOfPlay(com.vistarmedia.api.message.Api.ProofOfPlay)"></A>

<div class="jd-details api apilevel-"> 
    <h4 class="jd-details-title">
      <span class="normal">
        public 
         
         
         
         
        <a href="http://download.oracle.com/javase/6/docs/api/index.html?java/util/concurrent/Future.html">Future</a>&lt;<a href="../../../com/vistarmedia/api/result/ProofOfPlayResult.html">ProofOfPlayResult</a>&gt;
      </span>
      <span class="sympad">sendProofOfPlay</span>
      <span class="normal">(<a href="../../../com/vistarmedia/api/message/Api.ProofOfPlay.html">Api.ProofOfPlay</a> request)</span>
    </h4>
      <div class="api-level">
        <div>

</div>
        
  

      </div>
    <div class="jd-details-descr">
      
  <div class="jd-tagdata jd-tagdescr"><p><p>
 Asynchronously send an <code><a href="../../../com/vistarmedia/api/message/Api.ProofOfPlay.html">Api.ProofOfPlay</a></code>
 over the configured transport to the Vistar Media API server. This will
 return a result future which will be filled at some point in the
 background. The <code><a href="../../../com/vistarmedia/api/result/ProofOfPlayResult.html">ProofOfPlayResult</a></code> may
 contain either an <code><a href="../../../com/vistarmedia/api/message/Api.ProofOfPlay.html">Api.ProofOfPlay</a></code> or an
 <code><a href="../../../com/vistarmedia/api/result/ErrorResult.html">ErrorResult</a></code> describing what went wrong
 during the operation.
 </p>
 
 <p>
 This request should be sent after an asset has been shown for at least the
 time specified in the corresponding AdResonse's Advertisement.
 </p>
 
 <p>
 The server will response back with an identical proof of play that has been
 sent. In the future, this may also attach pricing information for internal
 reporting.
 </p></p></div>
  <div class="jd-tagdata">
      <h5 class="jd-tagtitle">Parameters</h5>
      <table class="jd-tagtable">
        <tr>
          <th>request</td>
          <td>Proof of play describing when and for how long the advertisment
          was shown on the player.</td>
        </tr>
      </table>
  </div>
  <div class="jd-tagdata">
      <h5 class="jd-tagtitle">Returns</h5>
      <ul class="nolist"><li>A Future containing the eventual result of this operation, be it an
         error or success.
</li></ul>
  </div>

    </div>
</div>





<!-- ========= METHOD DETAIL ======== -->



<!-- ========= END OF CLASS DATA ========= -->
<A NAME="navbar_top"></A>

<div id="footer">
Generated by <a href="http://code.google.com/p/doclava/">Doclava</a>.
</div> <!-- end footer -->

</div> <!-- jd-content -->

</div><!-- end doc-content -->

</div> <!-- end body-content --> 

<script type="text/javascript">
init(); /* initialize android-developer-docs.js */
</script>

</body>
</html>
